<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            function muestraCategoria() {
                peticion_http = new XMLHttpRequest();

                peticion_http.onreadystatechange = muestraContenido;

                peticion_http.open('GET', './cargarCategoria.jsp', true);
                peticion_http.send(null);
            }

            function muestraContenido() {

                if (peticion_http.readyState == 4) {
                    if (peticion_http.status == 200) {

                        var documento_xml = peticion_http.responseXML;
                        var x = documento_xml.getElementsByTagName("categoria");

                        //alert(longitud);
                        for (var y = 0; y < x.length; y++) {
                            var codigo = documento_xml.getElementsByTagName("codigo")[y].firstChild.nodeValue;
                            var nombre = documento_xml.getElementsByTagName("nombre")[y].firstChild.nodeValue;
                            var txt = txt + "<option value=" + codigo + ">" + nombre + "</option>";
                        }
                        document.getElementById("catego").innerHTML = txt;
                    }
                }
            }
                
                function muestraVideo(){
                    peticion_http = new XMLHttpRequest();

                    peticion_http.onreadystatechange = muestraVideoClub;

                    peticion_http.open('GET', './cargarVideo.jsp', true);
                    peticion_http.send(null);
                }
                
                function muestraVideoClub(){

                if (peticion_http.readyState == 4) {
                    if (peticion_http.status == 200) {

                        var documento_xml = peticion_http.responseXML;
                        var x = documento_xml.getElementsByTagName("videoclub");

                        //alert(longitud);
                        for (var y = 0; y < x.length; y++) {
                            var codigo = documento_xml.getElementsByTagName("codigo")[y].firstChild.nodeValue;
                            var nombre = documento_xml.getElementsByTagName("nombre")[y].firstChild.nodeValue;
                            var txt = txt + "<option value=" + codigo + ">" + nombre + "</option>";
                        }
                        document.getElementById("video").innerHTML = txt;
                    }

                }
            }
        </script>
    </head>
    <body onload="muestraCategoria()">
        <p>Categoria
            <select id="catego" onchange="muestraVideo()">
                
            </select>
        </p>
        <p>Videoclub
            <select id="video">
                
            </select>
        </p>
    </body>
</html>
